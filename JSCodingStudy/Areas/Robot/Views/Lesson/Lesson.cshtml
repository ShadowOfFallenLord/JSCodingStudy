@model LessonData
@{
    ViewBag.Title = Model.Title;
}

@functions {
    public string ToJSBool(bool val) => val.ToString().ToLower();
}

@section task {
    @foreach (string s in @Model.Task.Split('\n'))
    {
        @s
        <br />
    }
}

@section help {
    var help_node = help.ParseHelp(help.GetHelp(@ToJSBool(Model.APIHelp.Move), @ToJSBool(Model.APIHelp.Check), @ToJSBool(Model.APIHelp.Draw)));
}

@section field_init {
    var pattern = [
    @foreach (string line in Model.Pattern)
    {
        @:'@line',
    }
    ]
    var RobotAPI = RAPI.CreateFullRobotAPIWithPattern(pattern, @Model.StartX, @Model.StartY, html_elements.LogDisplay.get(0), delay);
}

@section user_code {
    <script>
        html_elements.TextInput.html(`@Model.Code`);
    </script>
}