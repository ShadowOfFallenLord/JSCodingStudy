@model LessonData
@{
    ViewBag.Title = Model.Title;
    ViewBag.IsLesson = true;
    ViewBag.LessonId = Model.Id;
}

@functions {
    public string ToJSBool(bool val) => val.ToString().ToLower();
}

@section task {
    @foreach (string s in @Model.Task.Split('\n'))
    {
        @s
        <br />
    }
}

@section help {
    var help_node = help.ParseHelp(help.GetHelp(@ToJSBool(Model.HelpAPIMove), @ToJSBool(Model.HelpAPICheck), @ToJSBool(Model.HelpAPIDraw)));
}

@section field_init {
    var pattern = [
    @foreach (string line in Model.Pattern)
    {
        @:'@line',
    }
    ]
    var RobotAPI = RAPI.CreateFullRobotAPIWithPattern(pattern, @Model.StartX, @Model.StartY, html_elements.LogDisplay.get(0), delay);
}

@section user_code {
    html_elements.TextInput.val(`@Model.Code`);
}